一、原理：

“享元”就是被共享的单元。

享元模式的意图是复用对象，节省内存，前提是享元对象是不可变对象。

当一个系统中存在大量重复对象的时候，如果这些重复的对象是不可变对象，我们就可以利用享元模式将对象设计成享元，在内存中只保留一份实例，供多处代码引用。

对于相似对象，我们也可以将这些对象中相同的部分（字段）提取出来，设计成享元，让这些大量相似对象引用这些享元。

其中的“不可变对象”指的是，一旦通过构造函数初始化完成之后，它的状态（对象的成员变量或者属性）就不会再被修改了。所以，不可变对象不能暴露任何 set() 等修改内部状态的方法。

二、实现

主要是通过工厂模式，在工厂类中，通过一个 Map 或者 List 来缓存已经创建好的享元对象，以达到复用的目的。

三、享元模式与单例、缓存、对象池的区别

1、享元模式跟单例的区别

- 在单例模式中，一个类只能创建一个对象；
- 在享元模式中，一个类可以创建多个对象，每个对象被多处代码引用共享。
- 应用享元模式是为了对象复用，节省内存；而应用多例模式是为了限制对象的个数。

2、享元模式跟缓存的区别

在享元模式的实现中，我们通过工厂类来保存已经创建好的对象。

缓存，主要是为了提高访问效率，而非复用。

3、享元模式跟对象池的区别

池化技术中的“复用”可以理解为“重复使用”，主要目的是节省时间，在任意时刻，每一个对象、连接、线程，并不会被多处使用，而是被一个使用者独占，当使用完成之后，放回到池中，再由其他使用者重复利用。

享元模式中的“复用”可以理解为“共享使用”，在整个生命周期中，都是被所有使用者共享的，主要目的是节省空间。