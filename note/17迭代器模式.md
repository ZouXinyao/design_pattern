也叫游标模式，用来遍历集合对象（容器，包含一组对象的对象），替代for循环等遍历方式。

一、原理

迭代器模式将集合对象的遍历操作从集合类中拆分出来，放到迭代器类中，让两者的职责更加单一。

一个完整的迭代器模式一般会涉及容器和容器迭代器两部分内容。为了达到基于接口而非实现编程的目的，容器又包含容器接口、容器实现类，迭代器又包含迭代器接口、迭代器实现类。

二、设计思路

容器类是实现了容器接口的所有方法；迭代器类实现迭代器接口的所有方法，容器类组合到迭代器类中。

迭代器中需要定义 hasNext()、currentItem()、next() 三个最基本的方法。待遍历的容器对象通过依赖注入传递到迭代器类中。容器通过 iterator() 方法来创建迭代器。

三、迭代器的优点

对于类似数组和链表这样的数据结构，遍历方式比较简单，直接使用 for 循环来遍历就足够了。但是，对于复杂的数据结构（比如树、图）来说，有各种复杂的遍历方式。将这部分遍历的逻辑写到容器类中，也会导致容器类代码的复杂性，用户自己实现，容易出错。所以可以将遍历操作拆分到迭代器类中。比如，针对图的遍历，我们就可以定义 DFSIterator、BFSIterator 两个迭代器类，让它们分别来实现深度优先遍历和广度优先遍历。

将游标指向的当前位置等信息，存储在迭代器类中，每个迭代器独享游标信息。这样，我们就可以创建多个不同的迭代器，同时对同一个容器进行遍历而互不影响。

容器和迭代器都提供了抽象的接口，方便我们在开发的时候，基于接口而非具体的实现编程。当需要切换新的遍历算法的时候，只需要换迭代器就行了，其他代码不用改，新增遍历算法也是如此。

四、注意点

迭代过程中不允许增删元素，如果增删，直接报错，或者迭代器遍历时报错。

为了在迭代过程中增删元素，可以提供快照功能。就是想要在迭代过程中增删元素，将原来集合复制出来一份，称为快照，我们迭代的对象是快照中的元素，增删元素在原容器中进行，这样迭代原来元素，增删也不影响。